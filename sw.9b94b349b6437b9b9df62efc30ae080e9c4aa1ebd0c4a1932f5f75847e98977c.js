(()=>{var i=["https://fastly.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js","https://fastly.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js","https://fastly.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js","https://fastly.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css","https://fastly.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css","/favicon.ico","/offline/"],o="v1";self.addEventListener("install",t=>{let s=async()=>(await caches.open(o)).addAll(i);t.waitUntil(s())});self.addEventListener("fetch",t=>{t.respondWith(a(t.request))});async function a(t){let s=await caches.open(o),n=await s.match(t);if(n)return t.destination==="document"&&fetch(t).then(e=>s.put(t,e)).catch(e=>{console.warn("\u66F4\u65B0\u6587\u6863\u7F13\u5B58\u65F6\u5F02\u5E38"),console.log(e)}),n;try{n=await fetch(t)}catch(e){if(t.destination==="document")return console.warn("\u8BF7\u6C42\u6587\u6863\u65F6\u5F02\u5E38\uFF0C\u663E\u793A\u79BB\u7EBF\u9875\u9762"),console.log(e),s.match("/offline/");throw e}if(t.url.startsWith("chrome-extension://"))return n;try{await s.put(t,n.clone())}catch(e){console.warn("\u7F13\u5B58\u8BF7\u6C42\u65F6\u5F02\u5E38"),console.log(e)}return n}})();
